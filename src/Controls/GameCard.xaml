<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:models="clr-namespace:MauiStream.Models"
             x:Class="MauiStream.Controls.GameCard"
             x:DataType="models:Game">

    <Border StrokeThickness="0"
            BackgroundColor="Transparent">
        <Border.StrokeShape>
            <RoundRectangle CornerRadius="12"/>
        </Border.StrokeShape>
        
        <Grid>
            <!-- Game Image -->
            <Image Source="{Binding ImageUrl}"
                   Aspect="AspectFill"/>
            
            <!-- Gradient Overlay -->
            <BoxView>
                <BoxView.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                        <GradientStop Color="Transparent" Offset="0.4"/>
                        <GradientStop Color="#CC000000" Offset="1.0"/>
                    </LinearGradientBrush>
                </BoxView.Background>
            </BoxView>
            
            <!-- Discount Badge -->
            <Border IsVisible="{Binding HasDiscount}"
                    BackgroundColor="{StaticResource SteamGreen}"
                    StrokeThickness="0"
                    Padding="8,4"
                    HorizontalOptions="Start"
                    VerticalOptions="Start"
                    Margin="10">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="4"/>
                </Border.StrokeShape>
                <Label Text="{Binding DiscountPercent, StringFormat='-{0}%'}"
                       TextColor="White"
                       FontSize="14"
                       FontAttributes="Bold"/>
            </Border>
            
            <!-- Game Title at Bottom -->
            <VerticalStackLayout VerticalOptions="End"
                                 Padding="15"
                                 Spacing="4">
                <Label Text="{Binding Title}"
                       TextColor="White"
                       FontSize="16"
                       FontAttributes="Bold"
                       LineBreakMode="TailTruncation"/>
            </VerticalStackLayout>
        </Grid>
    </Border>
</ContentView>
